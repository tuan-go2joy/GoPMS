import{au as N,d as I,Z as R,p as w,o as m,a1 as x,a2 as b,a as _,u as a,a3 as y,a4 as c,v as V,c as U,a0 as s,av as L,aw as M}from"./vendor.c8940223.js";import{Q as A}from"./QSeparator.dc9e5bcb.js";import{u as D,Q as S}from"./use-quasar.6c925fdd.js";import{Q as Z}from"./QForm.0fcc3426.js";import{u as $,E as z}from"./index.93a91d69.js";import{d as G,e as Q}from"./axiosClient.fba0db00.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import{F as K,a as T}from"./flag-VN.c32cb34a.js";const X=async l=>{const{data:e}=await G.post("/authentication/token/",l);return e},H=()=>N(X);const J=I({setup(l){const{t:e}=Q(),p=R(),i=$(),k=D(),f=H(),u=w({email:"",password:""}),h=w(null),q=[t=>!!t||e("this_field_is_required"),t=>t.length<=64||e("this_value_is_too_long"),t=>z.test(t)||e("this_is_invalid_value")],g=w(null),E=[t=>!!t||e("this_field_is_required"),t=>6<=t.length||e("this_value_is_too_short")],B=()=>{var t,n,r,F;(t=h.value)==null||t.validate(),(n=g.value)==null||n.validate(),!(((r=h.value)==null?void 0:r.error)||((F=g.value)==null?void 0:F.error))&&f.mutate(u.value,{onSuccess:({refresh:o,access:d,extra:v})=>{v.is_admin||(i.signin({refresh:o,access:d,userId:v.id,accommodationId:v.accomm_id}),p.go(0))},onError:({response:o})=>{let d="";(o==null?void 0:o.status)===401||(o==null?void 0:o.status)===404?d=e("wrong_credentials"):d=e("something_went_wrong"),k.notify({message:d,position:"bottom-right",type:"negative",actions:[{label:"Dismiss",color:"white"}]})}})};return(t,n)=>(m(),x(Z,{class:"form",onSubmit:B},{default:b(()=>[_(S,{ref_key:"emailField",ref:h,modelValue:u.value.email,"onUpdate:modelValue":n[0]||(n[0]=r=>u.value.email=r),label:a(e)("email"),rules:q},null,8,["modelValue","label"]),_(S,{ref_key:"passwordField",ref:g,modelValue:u.value.password,"onUpdate:modelValue":n[1]||(n[1]=r=>u.value.password=r),label:a(e)("password"),rules:E,type:"password"},null,8,["modelValue","label"]),_(V,{class:"q-mt-lg",type:"submit",loading:a(f).isLoading.value,"data-testid":"sign-in-btn","data-cy":"sign-in-btn"},{default:b(()=>[y(c(a(e)("sign_in")),1)]),_:1},8,["loading"])]),_:1}))}});var O=C(J,[["__scopeId","data-v-8a016b7c"]]);const j=l=>(L("data-v-359c4122"),l=l(),M(),l),P={class:"wrapper"},W={class:"container"},Y={class:"text-white q-px-xl"},ee={class:"text-h2"},te={class:"text-h6"},ae={class:"text-h6"},se={class:"text-h6"},oe=j(()=>s("a",{href:"https://zalo.me/280180579574148514",target:"_blank",rel:"noopener"}," Contact via Zalo ",-1)),le={class:"text-h6"},ie=j(()=>s("a",{href:"mailto:info@gopms.io",target:"_blank",rel:"noopener"},"info@gopms.io",-1)),ne={class:"q-px-xl"},re=I({setup(l){const{toggleLocale:e,locale:p,t:i}=Q();return(k,f)=>(m(),U("div",P,[_(V,{class:"i18n-btn",flat:"",round:""},{default:b(()=>[a(p)==="en-US"?(m(),x(K,{key:0,class:"flag",onClick:a(e)},null,8,["onClick"])):(m(),x(T,{key:1,class:"flag",onClick:a(e)},null,8,["onClick"]))]),_:1}),s("div",W,[s("div",Y,[s("h1",ee,c(a(i)("welcome_to_gopms")),1),s("p",te,c(a(i)("you_can_manage_all_properties_easily with_the_most_convenient_system")),1),s("p",ae,c(a(i)("if_you_want_to_register_gopms_please_fill_out_the_registration_form_on_here")),1),s("p",se,[y(c(a(i)("support"))+" : ",1),oe]),s("p",le,[y(c(a(i)("email"))+" : ",1),ie])]),_(A,{color:"white",vertical:""}),s("div",ne,[_(O)])])]))}});var ge=C(re,[["__scopeId","data-v-359c4122"]]);export{ge as default};
