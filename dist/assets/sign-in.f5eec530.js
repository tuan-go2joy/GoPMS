import{_ as U,d as k,g as $,o as c,n as p,w as g,a as l,u as e,$ as I,B as h,C as r,q as V,c as D,j as s,x as L,a0 as R,a1 as z}from"./vendor.eeb8c9cb.js";import{u as A,t as K,e as f,a as T,b as F,Q as C}from"./index.e9c5546a.js";import{Q as Z}from"./QForm.d45826d0.js";import{a as G,_ as Q,u as j,b as H,F as J,c as O}from"./index.79b96d91.js";const P=async n=>{const{data:a}=await G.post("/authentication/token/",n);return a},W=()=>U(P);const X=k({setup(n){const{t:a}=j(),_=$(),i=H(),v=A(),b=K(f.object({email:f.string().nonempty().max(64).email(),password:f.string().nonempty().min(6)})),{handleSubmit:E}=T({validationSchema:b}),{errorMessage:x,value:u}=F("email"),{errorMessage:w,value:d}=F("password"),y=W(),N=E(S=>{y.mutate(S,{onSuccess:({refresh:t,access:o,extra:m})=>{m.is_admin||(i.signin({refresh:t,access:o,userId:m.id,accommodationId:m.accomm_id}),_.go(0))},onError:({response:t})=>{let o="";(t==null?void 0:t.status)===401||(t==null?void 0:t.status)===404?o=a("wrong_credentials"):o=a("something_went_wrong"),v.notify({message:o,position:"bottom-right",type:"negative",actions:[{label:"Dismiss",color:"white"}]})}})});return(S,t)=>(c(),p(Z,{class:"form",onSubmit:e(N)},{default:g(()=>[l(C,{modelValue:e(u),"onUpdate:modelValue":t[0]||(t[0]=o=>I(u)?u.value=o:null),label:e(a)("email"),"error-message":e(x),error:!!e(x)},null,8,["modelValue","label","error-message","error"]),l(C,{modelValue:e(d),"onUpdate:modelValue":t[1]||(t[1]=o=>I(d)?d.value=o:null),label:e(a)("password"),"error-message":e(w),error:!!e(w),type:"password"},null,8,["modelValue","label","error-message","error"]),l(V,{class:"q-mt-lg",type:"submit",loading:e(y).isLoading.value,"data-testid":"sign-in-btn","data-cy":"sign-in-btn"},{default:g(()=>[h(r(e(a)("sign_in")),1)]),_:1},8,["loading"])]),_:1},8,["onSubmit"]))}});var Y=Q(X,[["__scopeId","data-v-53fa51a2"]]);var B={};const M=n=>(R("data-v-5e618c64"),n=n(),z(),n),ee={class:"wrapper"},te={class:"container"},ae={class:"text-white q-px-xl"},se={class:"text-h2"},oe={class:"text-h6"},ne={class:"text-h6"},ie={class:"text-h6"},le=M(()=>s("a",{href:"https://zalo.me/280180579574148514",target:"_blank",rel:"noopener"}," Contact via Zalo ",-1)),re={class:"text-h6"},ce=M(()=>s("a",{href:"mailto:info@gopms.io",target:"_blank",rel:"noopener"},"info@gopms.io",-1)),_e={class:"q-px-xl"},q=k({setup(n){const{toggleLocale:a,locale:_,t:i}=j();return(v,b)=>(c(),D("div",ee,[l(V,{class:"i18n-btn",flat:"",round:""},{default:g(()=>[e(_)==="en-US"?(c(),p(J,{key:0,class:"flag",onClick:e(a)},null,8,["onClick"])):(c(),p(O,{key:1,class:"flag",onClick:e(a)},null,8,["onClick"]))]),_:1}),s("div",te,[s("div",ae,[s("h1",se,r(e(i)("welcome_to_gopms")),1),s("p",oe,r(e(i)("you_can_manage_all_properties_easily with_the_most_convenient_system")),1),s("p",ne,r(e(i)("if_you_want_to_register_gopms_please_fill_out_the_registration_form_on_here")),1),s("p",ie,[h(r(e(i)("support"))+" : ",1),le]),s("p",re,[h(r(e(i)("email"))+" : ",1),ce])]),l(L,{color:"white",vertical:""}),s("div",_e,[l(Y)])])]))}});typeof B=="function"&&B(q);var ge=Q(q,[["__scopeId","data-v-5e618c64"]]);export{ge as default};
