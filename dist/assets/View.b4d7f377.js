import{H as x,v as M,W as T,r as p,o as A,l as v,a0 as I,a1 as N,g as e,j as D,y as g,n as s,w as l,x as S,C as k,B as t,h as i,z as w,F,A as r}from"./vendor.6c1f170c.js";import{a as C,_ as H}from"./index.a42a404f.js";import{u as V}from"./useFormat.532d12a0.js";async function j(n){return await C.get("myBooking/getMyBookingDetail",{params:n})}const U="_booking_17yov_1",z="_booking__item_17yov_4",P="_flex_17yov_26";var E={booking:U,booking__item:z,"booking__item--left":"_booking__item--left_17yov_10","booking__item--right":"_booking__item--right_17yov_13","text-blue":"_text-blue_17yov_16","text-danger":"_text-danger_17yov_19","align-right":"_align-right_17yov_22",flex:P};const G={name:"BookingDetails",setup(){const n=x(),{t:m,locale:B}=M(),o=T({loading:!1,displayBookingDetails:["bookingNo","partnerUserBookingId","hotelName","roomType","stayAtHotelTime","bookingStatus","roomAmount","totalAmount","discount","userPay","paidInAdvance"]}),d=p({hotelSn:""});A(()=>{y(n.params.sn)});const{formatDate:h,formatMoney:_,formatTime:c}=V(),y=async f=>{try{o.loading=!0;const{data:a}=await j({sn:f});d.value=a.data}catch{return!1}finally{o.loading=!1}};return{t:m,locale:B,ui:o,myBookingDetails:d,onGetMyBookingDetails:y,formatDate:h,formatMoney:_,formatTime:c}}},L={class:"text-align: right; width: 100%;"},R={key:0},W={key:1},q={key:2},J={key:3},K={key:4},O={key:5,style:{display:"flex","align-item":"center"}},Q={style:{"margin-right":"6px"}},X={key:0},Y={key:0},Z={key:1},$={key:6},oo={key:0},eo={key:1,style:{display:"flex","align-item":"center"}},to={style:{"margin-left":"4px"}};function io(n,m,B,o,d,h){const _=v("el-button"),c=v("router-link"),y=v("portal-section"),f=I("loading");return N((e(),D(y,{class:s(n.$style.booking)},{"header-right":g(()=>[l("div",L,[S(_,{type:"info",icon:"el-icon-refresh-left",size:"large",onClick:m[0]||(m[0]=a=>n.$router.go(-1))},{default:g(()=>[k(t(o.t("button.back")),1)]),_:1})])]),default:g(()=>[(e(!0),i(F,null,w(o.ui.displayBookingDetails,(a,b)=>(e(),i("div",{key:b,class:s(n.$style.booking__item)},[l("span",{class:s(n.$style["booking__item--left"])},t(o.t(`page.myBooking.${a}`)),3),l("div",{class:s(n.$style["booking__item--right"])},[a==="bookingNo"?(e(),i("div",R,t(o.myBookingDetails[a]),1)):a==="partnerUserBookingId"?(e(),i("div",W,t(o.myBookingDetails.partnerUserBookingId),1)):a==="userInfo"?(e(),i("div",q,t(o.myBookingDetails.mobile),1)):a==="hotelName"?(e(),i("div",J,[o.myBookingDetails.hotelSn?(e(),D(c,{key:0,to:{name:"HotelDetails",params:{sn:o.myBookingDetails.hotelSn}}},{default:g(()=>[k(t(o.myBookingDetails.hotelName),1)]),_:1},8,["to"])):r("v-if",!0)])):a==="roomType"?(e(),i("div",K,t(o.myBookingDetails.roomTypeName),1)):a==="stayAtHotelTime"?(e(),i("div",O,[l("p",Q,t(o.myBookingDetails.checkInDatePlan),1),o.myBookingDetails.type===1?(e(),i("p",X,[k(t(o.formatTime(o.myBookingDetails.startTime))+" ",1),o.myBookingDetails.endTime?(e(),i("span",Y,"~ "+t(o.formatTime(o.myBookingDetails.endTime)),1)):r("v-if",!0)])):o.myBookingDetails.type===3?(e(),i("p",Z,t(o.myBookingDetails.endDate),1)):r("v-if",!0)])):a==="bookingStatus"?(e(),i("div",$,[o.myBookingDetails.bookingStatus===1||o.myBookingDetails.bookingStatus===2?(e(),i("div",oo,t(o.t("page.myBooking.confirmed")),1)):o.myBookingDetails.bookingStatus===3?(e(),i("div",eo,[k(t(o.t("page.myBooking.cancel"))+": ",1),l("p",to,t(o.formatDate(o.myBookingDetails.checkInTime)),1)])):r("v-if",!0)])):a==="roomAmount"?(e(),i("div",{key:7,class:s(n.$style.flex)},[l("span",null,t(o.t("page.myBooking.extraFee"))+": "+t(o.formatMoney(o.myBookingDetails.extraFee)),1),l("span",{class:s(n.$style["text-blue"])},t(o.formatMoney(o.myBookingDetails.roomAmount)),3)],2)):a==="totalAmount"?(e(),i("div",{key:8,class:s(n.$style["align-right"])},[l("span",{class:s(n.$style["text-blue"])},t(o.formatMoney(o.myBookingDetails.totalAmount)),3)],2)):a==="discount"?(e(),i("div",{key:9,class:s(n.$style["align-right"])},[l("div",{class:s(n.$style["text-blue"])},t(o.formatMoney(o.myBookingDetails.totalHotelDiscount)),3)],2)):a==="userPay"?(e(),i("div",{key:10,class:s(n.$style["align-right"])},[l("div",{class:s(n.$style["text-danger"])},t(o.formatMoney(o.myBookingDetails.amountFromUser)),3)],2)):a==="paidInAdvance"?(e(),i("div",{key:11,class:s(n.$style["align-right"])},t(o.formatMoney(o.myBookingDetails.prepayAmount)),3)):r("v-if",!0)],2)],2))),128))]),_:1},8,["class"])),[[f,o.ui.loading]])}const u={};u.$style=E;var lo=H(G,[["render",io],["__cssModules",u]]);export{lo as default};
